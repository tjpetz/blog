<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Trouble with Bind9 on a Pi with NFS root | Thomas J. Petz, Jr.</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="I got a new Raspberry Pi 4 as I‚Äôm looking to consolidate some of my old Pi‚Äôs and clean up my servers. To avoid issues with wearing out the SD cards I mount the root file system off an NFS NAS storage server.
Unfortunately I‚Äôve hit a problem with installing Bind9 using the defaults when mounting root via NFS. When starting Bind9 I get the error
named[5466]: working directory ‚Äò/var/cache/bind‚Äô is not writable">
    <meta name="generator" content="Hugo 0.147.0">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/troublewithbind9onnfs/">
    

    <meta property="og:url" content="http://localhost:1313/posts/troublewithbind9onnfs/">
  <meta property="og:site_name" content="Thomas J. Petz, Jr.">
  <meta property="og:title" content="Trouble with Bind9 on a Pi with NFS root">
  <meta property="og:description" content="I got a new Raspberry Pi 4 as I‚Äôm looking to consolidate some of my old Pi‚Äôs and clean up my servers. To avoid issues with wearing out the SD cards I mount the root file system off an NFS NAS storage server.
Unfortunately I‚Äôve hit a problem with installing Bind9 using the defaults when mounting root via NFS. When starting Bind9 I get the error
named[5466]: working directory ‚Äò/var/cache/bind‚Äô is not writable">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-03-29T10:29:24-04:00">
    <meta property="article:modified_time" content="2020-03-29T10:29:24-04:00">

  <meta itemprop="name" content="Trouble with Bind9 on a Pi with NFS root">
  <meta itemprop="description" content="I got a new Raspberry Pi 4 as I‚Äôm looking to consolidate some of my old Pi‚Äôs and clean up my servers. To avoid issues with wearing out the SD cards I mount the root file system off an NFS NAS storage server.
Unfortunately I‚Äôve hit a problem with installing Bind9 using the defaults when mounting root via NFS. When starting Bind9 I get the error
named[5466]: working directory ‚Äò/var/cache/bind‚Äô is not writable">
  <meta itemprop="datePublished" content="2020-03-29T10:29:24-04:00">
  <meta itemprop="dateModified" content="2020-03-29T10:29:24-04:00">
  <meta itemprop="wordCount" content="199">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Trouble with Bind9 on a Pi with NFS root">
  <meta name="twitter:description" content="I got a new Raspberry Pi 4 as I‚Äôm looking to consolidate some of my old Pi‚Äôs and clean up my servers. To avoid issues with wearing out the SD cards I mount the root file system off an NFS NAS storage server.
Unfortunately I‚Äôve hit a problem with installing Bind9 using the defaults when mounting root via NFS. When starting Bind9 I get the error
named[5466]: working directory ‚Äò/var/cache/bind‚Äô is not writable">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Thomas J. Petz, Jr.
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l mw8 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Trouble with Bind9 on a Pi with NFS root</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-03-29T10:29:24-04:00">March 29, 2020</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>I got a new Raspberry Pi 4 as I‚Äôm looking to consolidate some of my old Pi‚Äôs and clean up my servers. To avoid issues with wearing out the SD cards I mount the root file system off an NFS NAS storage server.</p>
<p>Unfortunately I‚Äôve hit a problem with installing Bind9 using the defaults when mounting root via NFS. When starting Bind9 I get the error</p>
<p>named[5466]: working directory ‚Äò/var/cache/bind‚Äô is not writable</p>
<p>However, the /var/cache/bind directory is fully writable by the bind account.</p>
<p>Running a few test I verified that the exact same configuration works when the root filesystem is on the SD card. It seems this issue is related to the chroot that the bind9 runs in by default. If I edit /etc/defaults/bind9 and remove ‚Äú-u bind‚Äù from OPTIONS then bind starts. However, its obviously running as root. I‚Äôd prefer to have it run as bind.</p>
<p>So far poking around at google hasn‚Äôt identified the specific issue. I‚Äôm pretty sure it‚Äôs somehow related to using chroot on an NFS mounted filesystem.</p>
<p>I‚Äôll post an update if/when I figure out the issue. In the meantime if you hit the same problem you can always run as root üôÅ</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  Thomas J. Petz, Jr. 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
